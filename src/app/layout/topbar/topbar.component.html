<div class="layout-topbar">
  <a class="layout-topbar-logo" routerLink="">
    <img src="assets/layout/images/logo.svg" alt="logo" />
    <span>SAKAI</span>
  </a>

  <button #menubutton class="p-link layout-menu-button layout-topbar-button" (click)="layoutService.onMenuToggle()">
    <i class="pi pi-bars"></i>
  </button>

  <button #topbarmenubutton class="p-link layout-topbar-menu-button layout-topbar-button"
    (click)="layoutService.showProfileSidebar()">
    <i class="pi pi-ellipsis-v"></i>
  </button>

  <div #topbarmenu class="layout-topbar-menu" [ngClass]="{
      'layout-topbar-menu-mobile-active':
        layoutService.state.profileSidebarVisible
    }">

    <p-dropdown [options]="countries" appendTo="body" [(ngModel)]="selectedCountry" (onChange)="translate(selectedCountry.code)" >
      <ng-template pTemplate="selectedItem">
        @if(selectedCountry){
          <div class="flex align-items-center gap-2">
            <img
                src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png"
                [class]="'flag flag-' + selectedCountry.code.toLowerCase()"
                style="width: 18px" />
        </div>
        }
    </ng-template>
      <ng-template let-country pTemplate="item" >
        <div class="flex align-items-center gap-2" >
            <img
                src="assets/images/flag/flag_placeholder.png"
                [class]="'flag flag-' + country.code.toLowerCase()"
                style="width: 18px" />
        </div>
    </ng-template>
    </p-dropdown>
    <button class="p-link layout-topbar-button">
      <i class="pi pi-cog"></i>
      <span>Settings</span>
    </button>
  </div>
</div>
